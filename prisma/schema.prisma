// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

model User {
    clerkId          String             @id @unique
    items            Item[]
    createdAt        DateTime           @default(now())
    updatedAt        DateTime           @updatedAt
    RentingQueryCard RentingQueryCard[]
}

model Item {
    id               Int                @id @default(autoincrement())
    name             String
    description      String
    rentPerDay       Float
    ownerId          String // Changed to use `String` as the type
    owner            User               @relation(fields: [ownerId], references: [clerkId])
    images           String[]
    createdAt        DateTime           @default(now())
    updatedAt        DateTime           @updatedAt
    RentingQueryCard RentingQueryCard[]
}

model RentingQueryCard {
    id         Int      @id @default(autoincrement())
    query      String
    itemId     Int
    item       Item     @relation(fields: [itemId], references: [id])
    proposerId String // Changed to use `String` as the type
    proposer   User     @relation(fields: [proposerId], references: [clerkId])
    createdAt  DateTime @default(now())
    updatedAt  DateTime @updatedAt
}
